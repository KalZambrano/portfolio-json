---
import GitHub from "@/assets/social/gitHub.svg";
import SectionContainer from "../SectionContainer.astro";
import { projects } from "@cv";
---

<SectionContainer title="Proyectos">
  <div class="grid gap-5 sm:grid-cols-2 lg:grid-cols-3">
    {
      projects.map(
        ({ url, description, highlights, name, isActive, github }) => (
          <article class="group relative flex h-full flex-col overflow-hidden rounded-xl border border-zinc-200 bg-white/50 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg dark:border-zinc-800 dark:bg-zinc-900/50 dark:hover:border-zinc-700">
            <div class="flex h-full flex-col p-5 pt-6">
              {/* Header */}
              <header class="flex-1">
                <h3 class="flex items-center gap-2 text-sm font-semibold text-zinc-900 dark:text-zinc-100">
                  <a
                    href={url}
                    target="_blank"
                    title={`Ver el proyecto ${name}`}
                    class="hover:underline"
                  >
                    {name}
                  </a>

                  {isActive && (
                    <span
                      class="
                        relative inline-flex h-2 w-2
                        rounded-full bg-emerald-500
                      "
                      title="Proyecto activo"
                    >
                      <span
                        class="
                          absolute inline-flex h-full w-full
                          animate-ping rounded-full
                          bg-emerald-500 opacity-75
                        "
                      />
                    </span>
                  )}

                  {github && (
                    <a
                      href={github}
                      target="_blank"
                      title={`Ver cÃ³digo fuente de ${name}`}
                      class="
                        ml-auto text-zinc-500
                        transition-colors
                        hover:text-zinc-900
                        dark:text-zinc-400
                        dark:hover:text-zinc-100
                      "
                    >
                      <GitHub />
                    </a>
                  )}
                </h3>

                <p
                  class="
                    mt-2 font-mono text-xs leading-relaxed
                    text-zinc-600 dark:text-zinc-400
                  "
                >
                  {description}
                </p>
              </header>

              {/* Footer */}
              <footer class="mt-auto pt-4">
                <div class="flex flex-wrap gap-1.5">
                  {highlights.map((highlight) => (
                    <span class="rounded-full bg-amber-50 px-2.5 py-1 text-[10px] font-medium text-amber-700 dark:bg-amber-900/30 dark:text-amber-400">
                      {highlight}
                    </span>
                  ))}
                </div>
              </footer>
            </div>

            {/* Hover effect */}
            <div class="absolute inset-0 -z-10 bg-linear-to-br from-amber-50/50 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100 dark:from-amber-900/10" />
          </article>
        )
      )
    }
  </div>
</SectionContainer>
