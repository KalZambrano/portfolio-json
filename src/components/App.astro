---
import Layout from "@/layouts/Layout.astro";
import About from "@/components/sections/About.astro";
import Hero from "@/components/sections/Hero.astro";
import Skills from "@/components/sections/Skills.astro";
import Projects from "@/components/sections/Projects.astro";
import Experience from "@/components/sections/Experience.astro";
import Education from "@/components/sections/Education.astro";

const { cv } = Astro.props;
const { basics, work, education, projects, skills } = cv;
const { name, label } = basics;
const url  = Astro.request.url
// console.log(url);
const lang = url.includes('fr') ? 'fr' :
            url.includes('en') ? 'en' :
            url.includes('pt') ? 'pt' : 'es';
// console.log(lang);

let labelTranslated

if (lang === 'en') {
  labelTranslated = ['About Me', 'Experience', 'Education', 'Projects', 'Skills'];
} else if (lang === 'fr') {
  labelTranslated = ['À propos de moi', "Expérience", "Éducation", "Projets", "Compétences"];
} else if (lang === 'pt') {
  labelTranslated = ['Sobre mim', "Experiência", "Educação", "Projetos", "Habilidades"];
} else {
  labelTranslated = ['Sobre mí', "Experiencia", "Educación", "Proyectos", "Habilidades"]; // Default to original label if language not recognized
}
---

<Layout title={`${name} Portfolio - ${label}`} basics={basics}>
  <Hero basics={basics} />
  <About title={labelTranslated[0]} basics={basics} />
  <Experience title={labelTranslated[1]} work={work} />
  <Education title={labelTranslated[2]} education={education} />
  <Projects title={labelTranslated[3]} projects={projects} />
  <Skills title={labelTranslated[4]} skills={skills} />
</Layout>
